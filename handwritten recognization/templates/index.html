<!DOCTYPE html>
<html>
<head>
    <title>Handwritten Digit Recognition</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">
    <h1>ðŸ§  Handwritten Digit Recognition</h1>

    <form method="POST" enctype="multipart/form-data">
        
        <label class="file-label">
            <input type="file" name="file" id="fileInput" accept="image/*" required>
            <span id="fileText">Choose Image</span>
        </label>

        <div class="preview-container" id="previewContainer">
            <img id="previewImage">
        </div>

        <button type="submit" id="predictBtn" disabled>Predict Digit</button>
    </form>

    {% if prediction is not none %}
        <div class="result">
            ðŸŽ¯ Predicted Digit: <span>{{ prediction }}</span>
        </div>
    {% endif %}
</div>

<script>
const fileInput = document.getElementById("fileInput");
const fileText = document.getElementById("fileText");
const previewImage = document.getElementById("previewImage");
const previewContainer = document.getElementById("previewContainer");
const predictBtn = document.getElementById("predictBtn");

fileInput.addEventListener("change", function() {
    if (this.files && this.files[0]) {
        fileText.textContent = this.files[0].name;
        predictBtn.disabled = false;

        const reader = new FileReader();
        reader.onload = function(e) {
            previewImage.src = e.target.result;
            previewContainer.style.display = "block";
        }
        reader.readAsDataURL(this.files[0]);
    }
});
</script>

</body>
</html>
